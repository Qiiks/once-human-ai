# Once Human Discord Bot - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# TIER 1: CORE SERVICE CONFIGURATION
# =============================================================================

# Service Identity
SERVICE_NAME=discord-bot
SERVICE_VERSION=1.0.0
ENVIRONMENT=development
NODE_ENV=development

# =============================================================================
# TIER 2: SERVICE DISCOVERY CONFIGURATION
# =============================================================================

# Primary RAG service endpoint (DNS-based service discovery)
RAG_SERVICE_URL=http://rag-service:5000
RAG_SERVICE_HEALTH_ENDPOINT=/health
RAG_SERVICE_TIMEOUT=30000

# Fallback configuration (comma-separated URLs)
RAG_SERVICE_FALLBACK_URLS=http://localhost:5000,http://127.0.0.1:5000
RAG_SERVICE_DISCOVERY_STRATEGY=dns-first

# Circuit breaker configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=300000

# Service discovery timeouts and retries
SERVICE_DISCOVERY_TIMEOUT=30000
SERVICE_DISCOVERY_RETRIES=3
SERVICE_DISCOVERY_BACKOFF=exponential

# =============================================================================
# TIER 3: INFRASTRUCTURE CONFIGURATION
# =============================================================================

# Database configuration
DATABASE_PATH=/data/memory.db
CHROMA_DB_PATH=/data/chroma_db
SENTENCE_TRANSFORMERS_HOME=/app/model_cache

# Network configuration
DOCKER_NETWORK_NAME=once-human-network
INTERNAL_NETWORK_ONLY=false
ENABLE_EXTERNAL_ACCESS=false

# Logging and monitoring
LOG_LEVEL=info
HEALTH_CHECK_INTERVAL=30s
METRICS_ENABLED=true
HEALTH_CHECK_PORT=3000

# Flask/RAG Service Configuration
FLASK_HOST=0.0.0.0
FLASK_PORT=5000
FLASK_ENV=development
FLASK_DEBUG=1
PYTHONUNBUFFERED=1

# =============================================================================
# TIER 4: SECURITY AND AUTHENTICATION
# =============================================================================

# Discord Bot Token (REQUIRED)
# Get this from https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_discord_bot_token_here

# Gemini API Keys (REQUIRED)
# Get these from https://makersuite.google.com/app/apikey
# Multiple keys can be comma-separated for rotation
GEMINI_API_KEYS=your_gemini_api_key_here,optional_second_key

# Service authentication (future enhancement)
SERVICE_AUTH_ENABLED=false
SERVICE_AUTH_TOKEN=
INTER_SERVICE_ENCRYPTION=false

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# These values are automatically overridden in production via docker-compose.prod.yml

# Production service discovery (faster timeouts)
# SERVICE_DISCOVERY_TIMEOUT=10000
# SERVICE_DISCOVERY_RETRIES=5
# CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
# CIRCUIT_BREAKER_TIMEOUT=30000

# Production logging
# LOG_LEVEL=INFO
# FLASK_DEBUG=0
# FLASK_ENV=production

# Production network security
# INTERNAL_NETWORK_ONLY=true
# ENABLE_EXTERNAL_ACCESS=false